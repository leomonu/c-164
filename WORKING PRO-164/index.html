<!DOCTYPE html>
<html>

<head>
  <title>Shooting Game in Virtual Reality</title>
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <script
    src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v4.0.1/dist/aframe-physics-system.min.js"></script>
  <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
  <script src = "https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
  <script src = "https://recast-api.donmccurdy.com/aframe-inspector-plugin-recast.js"></script>
  <script src="js/bullet.js"></script>
  <script src="js/playermovement.js"></script>
  <script src="js/gameobjects.js"></script>

</head>

<body>
  <a-scene id="scene" inspector-plugin-recast>


    <!--Assets-->
    <a-asset-item id="shooter" src="./models/shooter/gun.gltf"></a-asset-item>
    <audio id="shoot" src="./sounds/shoot.mp3"></audio>
    <audio id="footstep" src="./sounds/footStep.mp3"></audio>
    <a-asset-item id="mesh" src = "./models/navmesh (1).gltf"></a-asset-item>

    <a-entity id="sound1" sound="src:#shoot; autoplay:false;volume:4,loop:false;poolSize:2"></a-entity>
    <a-entity id="sound2" sound="src:#footstep; autoplay:false;volume:5,loop:false;poolSize:2"></a-entity>
    <!-- Aframe environment -->
    <a-entity environment="preset:egypt; skyType:gradient; lighting:point"></a-entity>

    <!--Light-->
    <a-entity light="type: ambient; color: yellow; intensity:0.5"></a-entity>
    <a-entity movement-controls = "speed:0.2;constrainToNavMesh:true" position= "0 0 2">
    <!--Camera and Cursor-->
    <a-entity id="camera" camera position="0 1.6 0" wasd-controls look-controls="pointerLockEnabled: false">
      
      <a-entity id="weapon" gltf-model="#shooter" position="0 -4.4 3" rotation="0 180 0" scale="0.35 1 1"
        playermovement>
      </a-entity>
      <a-cursor></a-cursor>
    </a-entity>
  </a-entity>


    <!-- creating gameObjects -->
    <a-entity wire-fence boxes  ></a-entity>
    <!--Bullets-->
    <a-entity bullets></a-entity>

    <!-- Ground
      <a-plane
        id="ground"
        repeat="5 5"
        position="0 1 0"
        rotation="-90 0 0"
        height="200"
        width="200"
        color="#FBF2D4"
        static-body
        visible="true"
      >
      </a-plane> -->

      <a-entity nav-mesh  id = "navigation-mesh" gltf-model="#mesh"visible="true"></a-entity>


  </a-scene>
</body>

</html>